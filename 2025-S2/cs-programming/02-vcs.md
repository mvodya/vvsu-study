# Системы контроля версий и работа с Git

## Что такое система контроля версий (VCS) и зачем она нужна

**Система контроля версий (Version Control System, VCS)** - это программа или набор инструментов, позволяющих отслеживать изменения в файлах проекта

Основные задачи VCS:
- **Хранение истории изменений** - можно увидеть, кто и когда внес изменение, а также вернуться к предыдущей версии.
- **Совместная работа** - несколько разработчиков могут редактировать проект одновременно, не мешая друг другу
- **Резервное копирование** - код хранится не только локально, но и на удаленном сервере
- **Ветвление и эксперименты** - можно создавать отдельные ветки для тестирования идей и потом объединять их с основной версией

Пример: если кто-то случайно удалил часть программы, с помощью VCS он сможет вернуться к прошлому состоянию и восстановить работу

## Виды систем контроля версий

Существует два основных типа VCS:

### Централизованные (CVCS)

* Все данные хранятся на **одном сервере**
* Каждый разработчик работает с копией файлов, но чтобы зафиксировать изменения - нужно подключение к серверу
* Примеры: **Subversion (SVN)**, **Perforce**
* **Преимущества:**
  * Простая архитектура, легко администрировать
  * Хорошо работают с большими бинарными файлами (текстуры, модели, видео) - поэтому популярны среди дизайнеров и художников
  * Предсказуемое использование дискового пространства
* **Недостатки:**
  * Зависимость от сервера - без подключения к нему нельзя сделать коммит
  * Ограниченная гибкость в работе с ветками
  * Невысокая скорость работы при большом числе разработчиков

### Распределенные (DVCS)

* Каждая копия проекта содержит **полную историю изменений**
* Работать можно офлайн, а при появлении интернета - синхронизировать изменения с сервером
* Примеры: **Git**, **Mercurial**
* **Преимущества:**
  * Полная автономность - вся история хранится у каждого разработчика
  * Высокая скорость работы с локальными операциями
  * Удобные ветки и слияния - стандарт в современной разработке
  * Отличная поддержка инструментов и сервисов (GitHub, GitLab, Bitbucket)
* **Недостатки:**
  * Репозитории могут занимать много места на диске, особенно для проектов с большими бинарными файлами
  * Работа с медиафайлами хуже, чем у CVCS (требуется Git LFS для оптимизации)
  * Более высокая сложность для новичков

## Выбираем Git

**Git** - самая популярная система контроля версий

Ее преимущества:  
- Полная автономность - проект доступен полностью даже без сети
- Поддержка множества веток и удобное их объединение
- Высокая скорость работы
- Огромное сообщество и готовые интеграции
- Бесплатность и кроссплатформенность

Поэтому Git - лучший выбор для управления кодом лабораторных работ

## Основы работы с Git

Git - это **консольная утилита**, которую можно установить с сайта [git-scm.com](https://git-scm.com) (для Windows, на Linux ставить через пакетный менеджер, на MacOS через brew или xcode cli tools)

После установки Git доступен через терминал (Linux, macOS) или Git Bash / PowerShell (Windows)

Примеры основных команд:  
```bash
# Инициализация нового репозитория
git init

# Клонирование существующего репозитория
git clone https://github.com/mvodya/vvsu-study.git

# Проверка состояния
git status

# Добавление файла в индекс
git add file.txt

# Создание коммита с сообщением
git commit -m "Добавил файл file.txt"

# Отправка изменений на сервер
git push

# Получение изменений с сервера
git pull
```

## Основные понятия Git

* **Репозиторий (repository)** - проект, управляемый Git, содержащий все файлы и историю изменений
* **Коммит (commit)** - сохранение изменений в истории проекта. Каждый коммит имеет уникальный идентификатор и комментарий
* **Ветка (branch)** - параллельная линия разработки. Основная ветка обычно называется `main` или `master`
* **Слияние (merge)** - объединение изменений из одной ветки в другую
* **Клонирование (clone)** - копирование удаленного репозитория на локальный компьютер
* **Push** - отправка локальных изменений на сервер
* **Pull** - получение новых изменений с сервера
* **Fork** - копия чужого репозитория, с возможностью работать с ним независимо

## GitHub и GitLab

### GitHub

* Самый популярный сервис для хранения и совместной работы с Git-репозиториями
* Предоставляет web-интерфейс, систему задач, интеграции с CI/CD, вики
* Поддерживает открытые (публичные) и закрытые (приватные) проекты

### GitLab

* Похож на GitHub, но часто используется внутри компаний
* Есть возможность установки **локального GitLab-сервера** для корпоративных проектов
* Предоставляет больше встроенных функций для DevOps (CI/CD)

## Графические клиенты для Git

Хотя Git изначально работает через консоль, существуют графические клиенты, которые упрощают работу:

* **GitHub Desktop** - официальный клиент GitHub, упрощает работу с репозиториями (коммиты, push/pull, создание веток)
* **SourceTree** - популярный бесплатный клиент от Atlassian
* **GitKraken** - кроссплатформенный инструмент с удобной визуализацией веток
* **Интеграции в IDE** - почти все современные среды разработки (например, Visual Studio Code, IntelliJ IDEA) имеют встроенную поддержку Git

Для новичков удобнее всего использовать [GitHub Desktop](https://desktop.github.com/download/)
