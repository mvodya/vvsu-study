\setmonofont{Consolas}

\makeatletter

\newcommand\language@yaml{yaml}
\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray},
  basicstyle=\setmainfont{Consolas}\fontsize{8}{8}\linespread{1}\selectfont,
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple},
  stringstyle=\color{blue},
  moredelim=[l][\color{orange}]{\&},
  moredelim=[l][\color{magenta}]{*},
  moredelim=**[il][\color{red}{:}\color{blue}]{:},
  morestring=[b]',
  morestring=[b]",
  literate =    {---}{{\ProcessThreeDashes}}3
                {>}{{\textcolor{red}\textgreater}}1
                {|}{{\textcolor{red}\textbar}}1
                {\ -\ }{{\ -\ }}3,
}
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\color{black}\fi}
\makeatother

\lstdefinelanguage{json}{
    basicstyle=\fontsize{8}{8}\linespread{1}\selectfont\ttfamily,
    sensitive=false,
    stringstyle=\color{blue},
    string=[s]{":\ "}{"},
    literate=
        *{0}{{{\color{red}0}}}{1}
         {1}{{{\color{red}1}}}{1}
         {2}{{{\color{red}2}}}{1}
         {3}{{{\color{red}3}}}{1}
         {4}{{{\color{red}4}}}{1}
         {5}{{{\color{red}5}}}{1}
         {6}{{{\color{red}6}}}{1}
         {7}{{{\color{red}7}}}{1}
         {8}{{{\color{red}8}}}{1}
         {9}{{{\color{red}9}}}{1}
}

\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{codestylelst}{
    backgroundcolor=\color{backcolour},
    numberstyle=\color{codegray}\ttfamily,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}
\lstset{style=codestylelst}
